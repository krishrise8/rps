(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},39:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(38),a(39),a(26)),i=a.n(l),u=a(28),s=a(13),m=a(5),p=a(18),f=a.n(p),b=a(71),h=a(78),d=a(79),O=a(69),j=function(e){var t=e.name,a=e.allHistory,o=Object(O.a)({root:{width:"100%"},list:{width:"100%",overflowX:"auto",margin:"auto"},listitem:{margin:"auto",maxWidth:500},listitemtxt:{margin:"auto",textAlign:"center"}})();return Object(n.useEffect)((function(){console.log("name "+t+"allHistory "+a)}),[]),r.a.createElement("div",{className:o.root},r.a.createElement("h3",null,"History"),r.a.createElement(b.a,{className:o.list,component:"nav","aria-label":"history list"},a.map((function(e){return r.a.createElement(h.a,{className:o.listitem},r.a.createElement(d.a,{className:o.listitemtxt,primary:f()(e.date).format("LLL")+": "+e.winner+" wins best of 3"}))}))))},E=a(73),g=a(77),v=a(76),y=a(74),w=a(75),S=a(72),C=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){fetch("/game/getLeaderboard").then((function(e){return e.json()})).then((function(e){console.log(e),o([].concat(Object(s.a)(a),Object(s.a)(e)))}))}),[]);var c=Object(O.a)({root:{width:"100%"},paper:{width:"100%",overflowX:"auto",margin:"auto"},table:{margin:"auto",maxWidth:200}})();return r.a.createElement("div",{className:c.root},r.a.createElement("h3",null,"Leaderboard"),r.a.createElement(S.a,{className:c.paper},r.a.createElement(E.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(v.a,null,"Name"),r.a.createElement(v.a,{align:"right"},"Games Won"))),r.a.createElement(g.a,null,a.map((function(e){return r.a.createElement(w.a,{key:e.user},r.a.createElement(v.a,{component:"th",scope:"row"},e.user),r.a.createElement(v.a,{align:"right"},e.games))}))))))},N=function(e){var t,a=e.Player1Input,o=e.Player2Input,c=Object(n.useState)(""),l=Object(m.a)(c,2),p=l[0],b=l[1],h=Object(n.useState)(""),d=Object(m.a)(h,2),O=d[0],E=d[1],g=Object(n.useState)(a),v=Object(m.a)(g,2),y=v[0],w=v[1],S=Object(n.useState)(o),N=Object(m.a)(S,2),x=N[0],A=N[1],P=Object(n.useState)([]),k=Object(m.a)(P,2),I=k[0],R=k[1],L=Object(n.useState)(),H=Object(m.a)(L,2),U=H[0],T=H[1],W=Object(n.useState)(),J=Object(m.a)(W,2),q=J[0],B=J[1],D=Object(n.useState)(0),K=Object(m.a)(D,2),M=K[0],X=K[1],G=Object(n.useState)(0),$=Object(m.a)(G,2),_=$[0],z=$[1],F=Object(n.useState)(0),Q=Object(m.a)(F,2),V=Q[0],Y=Q[1],Z=Object(n.useState)([]),ee=Object(m.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(m.a)(ne,2),oe=re[0],ce=re[1],le=Object(n.useState)(!1),ie=Object(m.a)(le,2),ue=ie[0],se=ie[1],me=Object(n.useState)(""),pe=Object(m.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)(""),de=Object(m.a)(he,2),Oe=de[0],je=de[1];function Ee(){return(Ee=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(""),B(""),w(""),A(""),!ve(y,x)){e.next=9;break}return t={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({player1Name:p,player1Choice:y.toUpperCase(),player2Name:O,player2Choice:x.toUpperCase(),roundId:M})},e.next=9,fetch("/game/play",t).then((function(e){return e.json()})).then((function(e){ge(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){var t=0,a=0;if(0!==e.winnerNumber)if(function(e){1===e&&z(_+1);2===e&&Y(V+1)}(e.winnerNumber),1===e.winnerNumber&&(t=_+1,z(_+1)),2===e.winnerNumber&&(a=V+1,Y(V+1)),2===t||2===a)!function(e,t){var a=2===e?p:O;R(["Best of three: "+a+" wins"]);var n=f()().format("LLL"),r=1e3*f()(n).unix(),o={date:r,winner:a};console.log(o),function(e,t){var a={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:0,playerOne:p,playerTwo:O,winner:t,date:e})};fetch("/game/saveHistory",a).then((function(e){return e.json()})).then((function(e){console.log("fetch save History"+e)}))}(r,a),ae([].concat(Object(s.a)(te),[o])),console.log("allHistory"+te),z(0),Y(0),console.log("history date "+n),c=a,fetch("/game/saveLeaderboard/"+c).then((function(e){return e.json()})).then((function(e){console.log(e)}));var c}(t),X(0);else{ce(!1);var n="Round "+(M+1)+": "+e.winnerName+" wins";R(0===M?[n]:[].concat(Object(s.a)(I),[n])),X(M+1)}else{ce(!0);n="Draw. Play Again"}}function ve(e,a){return e.toUpperCase()in t||T("Invalid throw - must be rock, paper, or scissors"),a.toUpperCase()in t||B("Invalid throw - must be rock, paper, or scissors"),""===e&&T("Required"),""===a&&B("Required"),e.toUpperCase()in t&&a.toUpperCase()in t}return function(e){e[e.ROCK=0]="ROCK",e[e.PAPER=1]="PAPER",e[e.SCISSORS=2]="SCISSORS"}(t||(t={})),Object(n.useEffect)((function(){fetch("/game/username").then((function(e){return e.json()})).then((function(e){return console.log(e),be(e.name),console.log("username "+e.name),je(e.authorities[0].authority),console.log("role "+e.authorities[0].authority),fetch("/game/getHistory/"+e.name)})).then((function(e){return e.json()})).then((function(e){console.log(e),ae(Object(s.a)(e))})).catch((function(e){return console.log("Request failed",e)}))}),[]),r.a.createElement("div",null,!ue&&r.a.createElement("div",null,r.a.createElement("h3",null,"Enter Player 1 and Player 2 Names: "),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:p,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:O,onChange:function(e){return E(e.target.value)}})),r.a.createElement("button",{onClick:function(){""!==p.trim()&&""!==O.trim()&&se(!0)}}," Add ")),ue&&r.a.createElement("div",null,r.a.createElement("h3",null,p),r.a.createElement("input",{type:"text",value:y,onChange:function(e){return w(e.target.value)}}),r.a.createElement("div",null,U),r.a.createElement("h3",null,O),r.a.createElement("input",{type:"text",value:x,onChange:function(e){return A(e.target.value)}}),r.a.createElement("div",null,q),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return Ee.apply(this,arguments)}}," Submit "),r.a.createElement("br",null),r.a.createElement("div",null,oe?r.a.createElement("div",null,"Draw. Play Again"):I.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("br",null),r.a.createElement(j,{name:fe,allHistory:te}),"ROLE_ADMIN"===Oe&&r.a.createElement(C,null))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,{Player1Input:"",Player2Input:""}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.97ba1c4d.chunk.js.map