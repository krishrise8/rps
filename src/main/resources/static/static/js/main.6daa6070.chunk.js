(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{33:function(e,t,n){e.exports=n(46)},38:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),l=(n(38),n(39),n(26)),i=n.n(l),u=n(28),s=n(13),m=n(5),p=n(18),f=n.n(p),b=n(71),h=n(78),d=n(79),E=n(69),O=function(e){var t=e.name,n=e.allHistory,o=Object(E.a)({root:{width:"100%"},list:{width:"100%",overflowX:"auto",margin:"auto"},listitem:{margin:"auto",maxWidth:500},listitemtxt:{margin:"auto",textAlign:"center"}})();return Object(a.useEffect)((function(){console.log("name "+t+"allHistory "+n)}),[]),r.a.createElement("div",{className:o.root},r.a.createElement("h3",null,"History"),r.a.createElement(b.a,{className:o.list,component:"nav","aria-label":"history list"},n.map((function(e){return r.a.createElement(h.a,{className:o.listitem},r.a.createElement(d.a,{className:o.listitemtxt,primary:f()(e.date).format("LLL")+": "+e.winner+" wins best of 3"}))}))))},j=n(73),v=n(77),g=n(76),y=n(74),w=n(75),S=n(72),C=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){fetch("/game/getLeaderboard").then((function(e){return e.json()})).then((function(e){console.log(e),o([].concat(Object(s.a)(n),Object(s.a)(e)))}))}),[]);var c=Object(E.a)({root:{width:"100%"},paper:{width:"100%",overflowX:"auto",margin:"auto"},table:{margin:"auto",maxWidth:200}})();return r.a.createElement("div",{className:c.root},r.a.createElement("h3",null,"Leaderboard"),r.a.createElement(S.a,{className:c.paper},r.a.createElement(j.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(g.a,null,"Name"),r.a.createElement(g.a,{align:"right"},"Games Won"))),r.a.createElement(v.a,null,n.map((function(e){return r.a.createElement(w.a,{key:e.user},r.a.createElement(g.a,{component:"th",scope:"row"},e.user),r.a.createElement(g.a,{align:"right"},e.games))}))))))},N=function(e){var t,n=e.Player1Input,o=e.Player2Input,c=Object(a.useState)(""),l=Object(m.a)(c,2),p=l[0],b=l[1],h=Object(a.useState)(""),d=Object(m.a)(h,2),E=d[0],j=d[1],v=Object(a.useState)(n),g=Object(m.a)(v,2),y=g[0],w=g[1],S=Object(a.useState)(o),N=Object(m.a)(S,2),P=N[0],R=N[1],A=Object(a.useState)([]),x=Object(m.a)(A,2),k=x[0],I=x[1],L=Object(a.useState)(),H=Object(m.a)(L,2),U=H[0],T=H[1],W=Object(a.useState)(),J=Object(m.a)(W,2),M=J[0],q=J[1],B=Object(a.useState)(0),D=Object(m.a)(B,2),K=D[0],X=D[1],G=Object(a.useState)(0),$=Object(m.a)(G,2),_=$[0],z=$[1],F=Object(a.useState)(0),Q=Object(m.a)(F,2),V=Q[0],Y=Q[1],Z=Object(a.useState)([]),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(m.a)(ae,2),oe=re[0],ce=re[1],le=Object(a.useState)(!1),ie=Object(m.a)(le,2),ue=ie[0],se=ie[1],me=Object(a.useState)(""),pe=Object(m.a)(me,2),fe=pe[0],be=pe[1],he=Object(a.useState)(""),de=Object(m.a)(he,2),Ee=de[0],Oe=de[1];!function(e){e[e.ROCK=0]="ROCK",e[e.PAPER=1]="PAPER",e[e.SCISSORS=2]="SCISSORS"}(t||(t={}));var je=["ROCK","PAPER","SCISSORS"];function ve(){return(ve=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(""),q(""),w(""),R(""),!ye(y,P)){e.next=9;break}return t={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({player1Name:p,player1Choice:y.toUpperCase(),player2Name:E,player2Choice:P.toUpperCase(),roundId:K})},e.next=9,fetch("/game/play",t).then((function(e){return e.json()})).then((function(e){ge(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){var t=0,n=0;if(0!==e.winnerNumber)if(function(e){1===e&&z(_+1);2===e&&Y(V+1)}(e.winnerNumber),1===e.winnerNumber&&(t=_+1,z(_+1)),2===e.winnerNumber&&(n=V+1,Y(V+1)),2===t||2===n)!function(e,t){var n=2===e?p:E;I(["Best of three: "+n+" wins"]);var a=f()().format("LLL"),r=1e3*f()(a).unix(),o={date:r,winner:n};console.log(o),function(e,t){var n={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:0,playerOne:p,playerTwo:E,winner:t,date:e})};fetch("/game/saveHistory",n).then((function(e){return e.json()})).then((function(e){console.log("fetch save History"+e)}))}(r,n),ne([].concat(Object(s.a)(te),[o])),console.log("allHistory"+te),z(0),Y(0),console.log("history date "+a),c=n,fetch("/game/saveLeaderboard/"+c).then((function(e){return e.json()})).then((function(e){console.log(e)}));var c}(t),X(0);else{ce(!1);var a="Round "+(K+1)+": "+e.winnerName+" wins";I(0===K?[a]:[].concat(Object(s.a)(k),[a])),X(K+1)}else{ce(!0);a="Draw. Play Again"}}function ye(e,n){return e.toUpperCase()in t||T("Invalid throw - must be rock, paper, or scissors"),n.toUpperCase()in t||q("Invalid throw - must be rock, paper, or scissors"),""===e&&T("Required"),""===n&&q("Required"),e.toUpperCase()in t&&n.toUpperCase()in t}function we(e){var t=Math.floor(3*Math.random());1===e&&w(je[t]),2===e&&R(je[t])}return Object(a.useEffect)((function(){fetch("/game/username").then((function(e){return e.json()})).then((function(e){return console.log(e),be(e.name),console.log("username "+e.name),Oe(e.authorities[0].authority),console.log("role "+e.authorities[0].authority),fetch("/game/getHistory/"+e.name)})).then((function(e){return e.json()})).then((function(e){console.log(e),ne(Object(s.a)(e))})).catch((function(e){return console.log("Request failed",e)}))}),[]),r.a.createElement("div",null,!ue&&r.a.createElement("div",null,r.a.createElement("h3",null,"Enter Player 1 and Player 2 Names: "),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:p,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:E,onChange:function(e){return j(e.target.value)}})),r.a.createElement("button",{onClick:function(){""!==p.trim()&&""!==E.trim()&&se(!0)}}," Add ")),ue&&r.a.createElement("div",null,r.a.createElement("h3",null,p),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:y,onChange:function(e){return w(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return we(1)}}," Random ")),r.a.createElement("div",null,U),r.a.createElement("h3",null,E),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:P,onChange:function(e){return R(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return we(2)}}," Random ")),r.a.createElement("div",null,M),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return ve.apply(this,arguments)}}," Submit "),r.a.createElement("br",null),r.a.createElement("div",null,oe?r.a.createElement("div",null,"Draw. Play Again"):k.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("br",null),r.a.createElement(O,{name:fe,allHistory:te}),"ROLE_ADMIN"===Ee&&r.a.createElement(C,null))};var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,{Player1Input:"",Player2Input:""}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.6daa6070.chunk.js.map