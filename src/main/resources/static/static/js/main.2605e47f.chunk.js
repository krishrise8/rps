(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},39:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(38),a(39),a(26)),i=a.n(l),u=a(28),s=a(9),m=a(5),p=a(18),h=a.n(p),f=a(71),b=a(78),j=a(79),O=a(69),d=function(e){var t=e.name,a=e.allHistory,c=Object(n.useState)(a),o=Object(m.a)(c,2),l=o[0],i=o[1],u=Object(O.a)({root:{width:"100%"},list:{width:"100%",overflowX:"auto",margin:"auto"},listitem:{margin:"auto",maxWidth:500},listitemtxt:{margin:"auto",textAlign:"center"}})(),p=Object(n.useRef)(!0);return Object(n.useLayoutEffect)((function(){p.current?p.current=!1:fetch("http://localhost:8080/game/getHistory/"+t).then((function(e){return e.json()})).then((function(e){console.log(e),i(Object(s.a)(e))})).catch((function(e){return console.log("Request failed",e)}))})),r.a.createElement("div",{className:u.root},r.a.createElement("h3",null,"History"),r.a.createElement(f.a,{className:u.list,component:"nav","aria-label":"history list"},l.map((function(e){return r.a.createElement(b.a,{className:u.listitem},r.a.createElement(j.a,{className:u.listitemtxt,primary:h()(e.date).format("LLL")+": "+e.winner+" wins best of 3"}))}))))},E=function(e){var t,a=e.Player1Input,c=e.Player2Input,o=Object(n.useState)(""),l=Object(m.a)(o,2),p=l[0],f=l[1],b=Object(n.useState)(""),j=Object(m.a)(b,2),O=j[0],E=j[1],g=Object(n.useState)(a),v=Object(m.a)(g,2),y=v[0],w=v[1],S=Object(n.useState)(c),C=Object(m.a)(S,2),N=C[0],x=C[1],P=Object(n.useState)([]),A=Object(m.a)(P,2),R=A[0],k=A[1],I=Object(n.useState)(),L=Object(m.a)(I,2),H=L[0],U=L[1],T=Object(n.useState)(),W=Object(m.a)(T,2),q=W[0],B=W[1],J=Object(n.useState)(0),D=Object(m.a)(J,2),K=D[0],X=D[1],G=Object(n.useState)(),M=Object(m.a)(G,2),$=(M[0],M[1],Object(n.useState)(0)),z=Object(m.a)($,2),F=z[0],Q=z[1],V=Object(n.useState)(0),Y=Object(m.a)(V,2),Z=Y[0],_=Y[1],ee=Object(n.useState)([]),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(m.a)(re,2),oe=ce[0],le=ce[1],ie=Object(n.useState)(!1),ue=Object(m.a)(ie,2),se=ue[0],me=ue[1],pe=Object(n.useState)(""),he=Object(m.a)(pe,2),fe=he[0],be=he[1];function je(){return(je=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(""),B(""),w(""),x(""),!de(y,N)){e.next=9;break}return t={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({player1Name:p,player1Choice:y.toUpperCase(),player2Name:O,player2Choice:N.toUpperCase(),roundId:K})},e.next=9,fetch("http://localhost:8080/game/play",t).then((function(e){return e.json()})).then((function(e){Oe(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){var t=0,a=0;if(0!==e.winnerNumber)if(function(e){1===e&&Q(F+1);2===e&&_(Z+1)}(e.winnerNumber),1===e.winnerNumber&&(t=F+1,Q(F+1)),2===e.winnerNumber&&(a=Z+1,_(Z+1)),2===t||2===a)!function(e,t){var a=2===e?p:O;k(["Best of three: "+a+" wins"]);var n=h()().format("LLL"),r=1e3*h()(n).unix();console.log("Date object  "+r);var c=n+": "+a+" wins Best of 3";console.log(c),function(e,t){var a={method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:0,playerOne:p,playerTwo:O,winner:t,date:e})};fetch("http://localhost:8080/game/saveHistory",a).then((function(e){return e.json()})).then((function(e){console.log("fetch save History"+e)}))}(r,a),ne([].concat(Object(s.a)(ae),[c])),console.log("allHistory"+ae),Q(0),_(0),console.log("history date "+n),o=a,fetch("http://localhost:8080/game/saveLeaderboard/"+o).then((function(e){return e.json()})).then((function(e){console.log(e)}));var o}(t),X(0);else{le(!1);var n="Round "+(K+1)+": "+e.winnerName+" wins";k(0===K?[n]:[].concat(Object(s.a)(R),[n])),X(K+1)}else{le(!0);n="Draw. Play Again"}}function de(e,a){return e.toUpperCase()in t||U("Invalid throw - must be rock, paper, or scissors"),a.toUpperCase()in t||B("Invalid throw - must be rock, paper, or scissors"),""===e&&U("Required"),""===a&&B("Required"),e.toUpperCase()in t&&a.toUpperCase()in t}return function(e){e[e.ROCK=0]="ROCK",e[e.PAPER=1]="PAPER",e[e.SCISSORS=2]="SCISSORS"}(t||(t={})),Object(n.useEffect)((function(){fetch("http://localhost:8080/game/username").then((function(e){return e.text()})).then((function(e){return console.log(e),be(e),fetch("http://localhost:8080/game/getHistory/"+e)})).then((function(e){return e.json()})).then((function(e){console.log(e),ne([].concat(Object(s.a)(ae),Object(s.a)(e)))})).catch((function(e){return console.log("Request failed",e)}))}),[]),r.a.createElement("div",null,!se&&r.a.createElement("div",null,r.a.createElement("h3",null,"Enter Player 1 and Player 2 Names: "),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:O,onChange:function(e){return E(e.target.value)}})),r.a.createElement("button",{onClick:function(){""!==p.trim()&&""!==O.trim()&&me(!0)}}," Add ")),se&&r.a.createElement("div",null,r.a.createElement("h3",null,p),r.a.createElement("input",{type:"text",value:y,onChange:function(e){return w(e.target.value)}}),r.a.createElement("div",null,H),r.a.createElement("h3",null,O),r.a.createElement("input",{type:"text",value:N,onChange:function(e){return x(e.target.value)}}),r.a.createElement("div",null,q),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return je.apply(this,arguments)}}," Submit "),r.a.createElement("br",null),r.a.createElement("div",null,oe?r.a.createElement("div",null,"Draw. Play Again"):R.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("br",null),r.a.createElement(d,{name:fe,allHistory:ae}))},g=a(73),v=a(77),y=a(76),w=a(74),S=a(75),C=a(72),N=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){fetch("http://localhost:8080/game/getLeaderboard").then((function(e){return e.json()})).then((function(e){console.log(e),c([].concat(Object(s.a)(a),Object(s.a)(e)))}))}),[]);var o=Object(O.a)({root:{width:"100%"},paper:{width:"100%",overflowX:"auto",margin:"auto"},table:{margin:"auto",maxWidth:200}})();return r.a.createElement("div",{className:o.root},r.a.createElement("h3",null,"Leaderboard"),r.a.createElement(C.a,{className:o.paper},r.a.createElement(g.a,{className:o.table,"aria-label":"simple table"},r.a.createElement(w.a,null,r.a.createElement(S.a,null,r.a.createElement(y.a,null,"Name"),r.a.createElement(y.a,{align:"right"},"Games Won"))),r.a.createElement(v.a,null,a.map((function(e){return r.a.createElement(S.a,{key:e.user},r.a.createElement(y.a,{component:"th",scope:"row"},e.user),r.a.createElement(y.a,{align:"right"},e.games))}))))))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,{Player1Input:"",Player2Input:""}),r.a.createElement("br",null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.2605e47f.chunk.js.map